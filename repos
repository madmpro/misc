#!/usr/bin/env bash
# Made by Sinfallas <sinfallas@yahoo.com>
# Licence: GPL-2

if [[ "$EUID" != "0" ]]; then
	echo -e "\e[00;31mERROR: Debes ser root.\e[00m"
	exit 1
fi

#driver video
add-apt-repository -y ppa:oibaf/graphics-drivers
add-apt-repository -y ppa:ubuntu-x-swat/updates

#anydesk
wget -qO - https://keys.anydesk.com/repos/DEB-GPG-KEY | apt-key add -
echo "deb http://deb.anydesk.com/ all main" | tee /etc/apt/sources.list.d/anydesk-stable.list

#brave
curl -s https://brave-browser-apt-release.s3.brave.com/brave-core.asc | apt-key --keyring /etc/apt/trusted.gpg.d/brave-browser-release.gpg add -
echo "deb [arch=amd64] https://brave-browser-apt-release.s3.brave.com/ stable main" | tee /etc/apt/sources.list.d/brave-browser-release.list

#apt-fast
add-apt-repository -y ppa:apt-fast/stable

#linrunner (tlp)
add-apt-repository -y ppa:linrunner/tlp

#google chrome
echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" > /etc/apt/sources.list.d/chrome.list
wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | apt-key add -

#haguichi (gui para hamachi)
add-apt-repository -y ppa:webupd8team/haguichi

#jellyfin (media server)
echo "deb [arch=$( dpkg --print-architecture )] https://repo.jellyfin.org/ubuntu $( lsb_release -c -s ) main" | tee /etc/apt/sources.list.d/jellyfin.list
wget -O - https://repo.jellyfin.org/ubuntu/jellyfin_team.gpg.key | apt-key add -

apt update -qq
apt -y install anydesk apt-fast brave-browser google-chrome-stable jellyfin
usermod -aG video jellyfin
systemctl restart jellyfin
systemctl enable jellyfin

apt -y dist-upgrade
glxinfo | grep "OpenGL version"
glxinfo | egrep "OpenGL vendor|OpenGL renderer"

exit 0
